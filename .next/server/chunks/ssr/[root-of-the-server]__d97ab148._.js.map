{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/ai-instance.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/googleai';\n\nexport const ai = genkit({\n  promptDir: './prompts',\n  plugins: [\n    googleAI({\n      apiKey: process.env.GOOGLE_GENAI_API_KEY,\n    }),\n  ],\n  model: 'googleai/gemini-2.0-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,WAAW;IACX,SAAS;QACP,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EAAE;YACP,QAAQ,QAAQ,GAAG,CAAC,oBAAoB;QAC1C;KACD;IACD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/improve-prompt-template.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview A Genkit flow for improving the prompt template used for deception analysis.\n *\n * - improvePromptTemplate - A function that handles the prompt template improvement process.\n * - ImprovePromptTemplateInput - The input type for the improvePromptTemplate function.\n * - ImprovePromptTemplateOutput - The return type for the improvePromptTemplate function.\n */\n\nimport {ai} from '@/ai/ai-instance';\nimport {z} from 'genkit';\n\nconst ImprovePromptTemplateInputSchema = z.object({\n  originalPrompt: z.string().describe('The original prompt template to be improved.'),\n  feedback: z.string().describe('User feedback on the performance of the original prompt.'),\n});\nexport type ImprovePromptTemplateInput = z.infer<typeof ImprovePromptTemplateInputSchema>;\n\nconst ImprovePromptTemplateOutputSchema = z.object({\n  improvedPrompt: z.string().describe('The improved prompt template.'),\n  reasoning: z.string().describe('Explanation of the changes made to the prompt.'),\n});\nexport type ImprovePromptTemplateOutput = z.infer<typeof ImprovePromptTemplateOutputSchema>;\n\nexport async function improvePromptTemplate(input: ImprovePromptTemplateInput): Promise<ImprovePromptTemplateOutput> {\n  return improvePromptTemplateFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'improvePromptTemplatePrompt',\n  input: {\n    schema: z.object({\n      originalPrompt: z.string().describe('The original prompt template.'),\n      feedback: z.string().describe('User feedback on the performance of the original prompt.'),\n    }),\n  },\n  output: {\n    schema: z.object({\n      improvedPrompt: z.string().describe('The improved prompt template.'),\n      reasoning: z.string().describe('Explanation of the changes made to the prompt.'),\n    }),\n  },\n  prompt: `You are an AI prompt engineer. Your task is to improve a prompt template based on user feedback.\n\nOriginal Prompt:\n{{originalPrompt}}\n\nFeedback:\n{{feedback}}\n\nInstructions:\n1. Analyze the feedback to identify areas for improvement in the original prompt.\n2. Modify the prompt to address the feedback, focusing on clarity, accuracy, and effectiveness.\n3. Explain the changes you made and why they will improve the prompt's performance.\n4. Return the improved prompt and your reasoning.\n\nImproved Prompt:\n`,\n});\n\nconst improvePromptTemplateFlow = ai.defineFlow<\n  typeof ImprovePromptTemplateInputSchema,\n  typeof ImprovePromptTemplateOutputSchema\n>({\n  name: 'improvePromptTemplateFlow',\n  inputSchema: ImprovePromptTemplateInputSchema,\n  outputSchema: ImprovePromptTemplateOutputSchema,\n}, async input => {\n  const {output} = await prompt(input);\n  return output!;\n});\n"],"names":[],"mappings":";;;;;AACA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,mCAAmC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAChD,gBAAgB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACpC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAChC;AAGA,MAAM,oCAAoC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjD,gBAAgB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACpC,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACjC;AAGO,eAAe,sBAAsB,KAAiC;IAC3E,OAAO,0BAA0B;AACnC;AAEA,MAAM,SAAS,2HAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QACL,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YACf,gBAAgB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;YACpC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAChC;IACF;IACA,QAAQ;QACN,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YACf,gBAAgB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;YACpC,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACjC;IACF;IACA,QAAQ,CAAC;;;;;;;;;;;;;;;AAeX,CAAC;AACD;AAEA,MAAM,4BAA4B,2HAAA,CAAA,KAAE,CAAC,UAAU,CAG7C;IACA,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GAAG,OAAM;IACP,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,OAAO;IAC9B,OAAO;AACT;;;IA9CsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/analyze-text-flow.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview A deception analysis AI agent.\n *\n * - analyzeText - A function that handles the text analysis process.\n * - AnalyzeTextInput - The input type for the analyzeText function.\n * - AnalyzeTextOutput - The return type for the analyzeText function.\n */\n\nimport {ai} from '@/ai/ai-instance';\nimport {z} from 'genkit';\n\nconst AnalyzeTextInputSchema = z.object({\n  userText: z.string().describe('The text to analyze for deception.'),\n  history: z.array(z.object({\n    role: z.enum(['user', 'assistant']),\n    content: z.string()\n  })).optional().describe('The history of the conversation.'),\n});\nexport type AnalyzeTextInput = z.infer<typeof AnalyzeTextInputSchema>;\n\nconst AnalyzeTextOutputSchema = z.object({\n  analysis: z.string().describe('The AI\\'s analysis, highlighting suspicious phrases and reasoning.'),\n  verdict: z.string().describe('The final verdict on the likelihood of dishonesty (Likely Dishonest, Unclear/Mixed, Likely Honest).'),\n  clarifyingQuestion: z.string().describe('A clarifying question to ask the user to get more information.'),\n});\nexport type AnalyzeTextOutput = z.infer<typeof AnalyzeTextOutputSchema>;\n\nexport async function analyzeText(input: AnalyzeTextInput): Promise<AnalyzeTextOutput> {\n  return analyzeTextFlow(input);\n}\n\nconst askClarifyingQuestion = ai.defineTool(\n  {\n    name: 'askClarifyingQuestion',\n    description: 'Asks the user a clarifying question to gather more information about the message.',\n    inputSchema: z.object({\n      question: z.string().describe('The clarifying question to ask the user.'),\n    }),\n    outputSchema: z.string().describe('The clarifying question to ask.'),\n  },\n  async input => {\n    return input.question;\n  }\n);\n\nconst prompt = ai.definePrompt({\n  name: 'deceptionAnalysisPrompt',\n  input: {\n    schema: z.object({\n      userText: z.string().describe('The text to analyze for deception.'),\n      history: z.array(z.object({\n        role: z.enum(['user', 'assistant']),\n        content: z.string()\n      })).optional().describe('The history of the conversation.'),\n    }),\n  },\n  output: {\n    schema: z.object({\n      analysis: z.string().describe('The AI\\'s analysis, highlighting suspicious phrases and reasoning.'),\n      verdict: z.string().describe('The final verdict on the likelihood of dishonesty (Likely Dishonest, Unclear/Mixed, Likely Honest).'),\n      clarifyingQuestion: z.string().describe('A clarifying question to ask the user to get more information.'),\n    }),\n  },\n  tools: [askClarifyingQuestion],\n  prompt: `You are a deception analysis AI, helping couples and lovers settle arguments by identifying potential red flags in messages.\n\nA user will paste a personal message, email, or chat log. Your task is to:\n\n1. Detect signs of dishonesty, manipulation, evasion, or gaslighting.\n2. Highlight suspicious phrases.\n3. Provide short reasoning for each flag.\n4. If the message is unclear or lacks necessary details for a proper analysis, use the askClarifyingQuestion tool to ask a question that would help you perform a better analysis.\n5. Give a final verdict:\n   - \"ðŸŸ¥ Likely Dishonest\"\n   - \"ðŸŸ¨ Unclear / Mixed\"\n   - \"ðŸŸ© Likely Honest\"\n\nAvoid being overly dramatic. Keep it short and Gen Z-friendly. Format your response like this:\n\nðŸ§  Analysis:\n- \"I was busy\" â†’ ðŸš© Might be an excuse, vague wording.\n- \"You always overthink\" â†’ ðŸš© Could be manipulative gaslighting.\n\nðŸ“Š Verdict: ðŸŸ¥ Likely Dishonest\n\n{% if history %}\nConversation History:\n{% for message in history %}\n{{ message.role }}: {{ message.content }}\n{% endfor %}\n{% endif %}\n\nNow analyze this message:\n{{{userText}}}\n`,\n});\n\nconst analyzeTextFlow = ai.defineFlow<\n  typeof AnalyzeTextInputSchema,\n  typeof AnalyzeTextOutputSchema\n>({\n  name: 'deceptionAnalysisFlow',\n  inputSchema: AnalyzeTextInputSchema,\n  outputSchema: AnalyzeTextOutputSchema,\n}, async input => {\n  const {output} = await prompt(input);\n  return {\n    analysis: output!.analysis,\n    verdict: output!.verdict,\n    clarifyingQuestion: output!.clarifyingQuestion,\n  };\n});\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,yBAAyB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACtC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC9B,SAAS,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACxB,MAAM,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;SAAY;QAClC,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM;IACnB,IAAI,QAAQ,GAAG,QAAQ,CAAC;AAC1B;AAGA,MAAM,0BAA0B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACvC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC9B,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC7B,oBAAoB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC1C;AAGO,eAAe,YAAY,KAAuB;IACvD,OAAO,gBAAgB;AACzB;AAEA,MAAM,wBAAwB,2HAAA,CAAA,KAAE,CAAC,UAAU,CACzC;IACE,MAAM;IACN,aAAa;IACb,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACpB,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAChC;IACA,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACpC,GACA,OAAM;IACJ,OAAO,MAAM,QAAQ;AACvB;AAGF,MAAM,SAAS,2HAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QACL,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YACf,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;YAC9B,SAAS,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;gBACxB,MAAM,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;oBAAC;oBAAQ;iBAAY;gBAClC,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM;YACnB,IAAI,QAAQ,GAAG,QAAQ,CAAC;QAC1B;IACF;IACA,QAAQ;QACN,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YACf,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;YAC9B,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;YAC7B,oBAAoB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC1C;IACF;IACA,OAAO;QAAC;KAAsB;IAC9B,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BX,CAAC;AACD;AAEA,MAAM,kBAAkB,2HAAA,CAAA,KAAE,CAAC,UAAU,CAGnC;IACA,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GAAG,OAAM;IACP,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,OAAO;IAC9B,OAAO;QACL,UAAU,OAAQ,QAAQ;QAC1B,SAAS,OAAQ,OAAO;QACxB,oBAAoB,OAAQ,kBAAkB;IAChD;AACF;;;IApFsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {improvePromptTemplate as '40dcf2ede226d12c111f8295c156868ddbd0446af2'} from 'ACTIONS_MODULE0'\nexport {analyzeText as '407c1901046f1186f6c2993505c47fa3d82f079c33'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAoR,GACjT,kDACA","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgQ,GAC7R,8BACA","debugId":null}},
    {"offset": {"line": 531, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}